doctype html
html
  head
    title #{user}: List creation
    script(src ="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js")
    link(href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet")
    script(src="/node_modules/bootstrap/dist/js/bootstrap.min.js")
    
    script.
        function postLine() {
            $.post("/home/createList/addListItem_form", $("#listItemForm").serialize(), (data) => {
                    $("#listContainer").append(data);
            });
        }
        function postTitle() {
            $.post("/home/createList/addListTitle_form", $("#listTitleForm").serialize(), (data) => {
                    $("#listContainer").append(data);
                    $("#titleButton").attr("disabled", true);
            });
        }
        function saveList() {
            $.get("/home/createList/saveList_form", (data) => {
                if(data==='SAVE_OK') location.href = "/home";
                else $("#H1").html('Error al guardar la lista');
            });
        }
  body
    h1(id="H1") List Creation
    div(id="listContainer")
    form(id="listTitleForm" method="post")
        input(type= "text" name ="campo1" placeholder="List title")
        input(type="reset" value ="Reset")
        input(type="button" id="titleButton" value ="Set Title" onclick="postTitle()")
    form(id="listItemForm" method="post")
        input(type= "text" name ="campo1" placeholder="List item")
        input(type="reset" value ="Reset")
        input(type="button" value ="Set task" onclick="postLine()")
    form(id="listDone")
        input(type="button" value="Done" onclick="saveList()")
    div(class="dropdown")
        button(class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown") Category
            span(class="caret")
        ul(class="dropdown-menu")
            each val in cats
                li
                    a!= val